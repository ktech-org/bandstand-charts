# Bandstand web service

## Values

| Key                        | Type   | Default         | Description                                                                                                                                                                                                                                                                       |
|----------------------------|--------|-----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| additionalDomains          | list   | `[]`            | A list of additional domains for the service                                                                                                                                                                                                                                      |
| additionalEnvVars          | object | `{}`            | An object containing additional environment variables                                                                                                                                                                                                                             |
| aws.account                | string |                 | The account number of the deployment either the test, preprod or prod account                                                                                                                                                                                                     |
| containerPort              | int    | `8080`          | The port to open on the container for the service                                                                                                                                                                                                                                 |
| env                        | string |                 | The environment, either test, preprod or prod                                                                                                                                                                                                                                     |
| gitRepo                    | string | `.Release.Name` | The name of the repository for the service                                                                                                                                                                                                                                        |
| hpa.averageCpuUtilization  | int    | `50`            | Horizontal pod autoscaler, the threshold average CPU ultilization to trigger, see [here](https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/)                                                                                                              |
| hpa.maxReplicas            | int    | `3`             | Horizontal pod autoscaler, minimum number of pods, see [here](https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/)                                                                                                                                         |
| hpa.minReplicas            | int    | `1`             | Horizontal pod autoscaler, minimum number of pods, see [here](https://kubernetes.io/docs/tasks/run-application/horizontal-pod-autoscale/)                                                                                                                                         |
| image.tag                  | string |                 | The tag for container image to be used in the service                                                                                                                                                                                                                             |
| ingress.annotations        | object | `{}`            | Additional annotations to apply to the ingress object                                                                                                                                                                                                                             |
| ingress.domain             | string |                 | Primary ingress domain for service, normally ktech.com                                                                                                                                                                                                                            |
| ingress.enabled            | bool   |                 | True if the service has an ingress                                                                                                                                                                                                                                                |
| ingress.visibility         | string |                 | Whether service is externally visible, either cluster, private or public                                                                                                                                                                                                          |
| livenessProbe.path         | string | `/`             | Path to the endpoint used to determine whether a container is active                                                                                                                                                                                                              |
| owner                      | string |                 | The GitHub team that owns the service                                                                                                                                                                                                                                             |
| properties                 | object | `{}`            | An object containing properties for the job - use this for base properties in values.yaml. The final properties object is a concatination of properties and envProperties.                                                                                                        |
| envProperties              | object | `{}`            | An object containing properties for the job - use this for environment specific values in the <env>-values.yaml files. The final properties object is a concatination of properties and envProperties.                                                                            |
| readinessProbe.path        | string | `/`             | Path to the endpoint used to determine whether a container is ready                                                                                                                                                                                                               |
| resources.limits.cpu       | string | `500m`          | Container cpu [limit](https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#requests-and-limits), measured in cpu units, one core is 1000m, see [here](https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#meaning-of-cpu)    |
| resources.limits.memory    | string | `512Mi`         | Container memory [limit](https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#requests-and-limits), see [here](https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#meaning-of-memory)                                        |
| resources.requests.cpu     | string | `250m`          | Container CPU [requests](https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#requests-and-limits), measured in cpu units, one core is 1000m, see [here](https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#meaning-of-cpu) |
| resources.requests.memory  | string | `256Mi`         | Container memory [requests](https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#requests-and-limits), see [here](https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#meaning-of-memory)                                     |
| serviceContainer.arguments | list   |                 | Override the default container arguments for the service Pod                                                                                                                                                                                                                      |
| serviceContainer.command   | string |                 | Override the default container command for the service Pod                                                                                                                                                                                                                        |
| systemCode                 | string | `.Release.Name` | The systemCode for the service                                                                                                                                                                                                                                                    |
| systemGroup                | string |                 | The systemGroup for the service                                                                                                                                                                                                                                                   |
| testContainer.arguments    | list   |                 | Override the default container arguments for the test Pod                                                                                                                                                                                                                         |
| testContainer.command      | string |                 | Override the default container command for the test Pod                                                                                                                                                                                                                           |
